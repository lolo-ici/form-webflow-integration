var t;(function(t){var e=function(){return(e=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var a in e=arguments[o])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var o=function(){function t(t,e){this.drawerElement=t,this.options=e,t.drawerInstance=this,t.classList.add("fc-modal"),this.bindEvents()}return t.prototype.bindEvents=function(){var t,e=this;null===(t=this.drawerElement.querySelector(".handle"))||void 0===t||t.addEventListener("touchstart",function(t){return e.close()}),this.drawerElement.addEventListener("click",function(t){t.target===e.drawerElement&&e.close()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e.close()})},t.prototype.open=function(){var t=this;document.body.style.overflow="hidden",this.options.awaitOpenAnimation&&this.drawerElement.addEventListener("animationend",function(){t.afterOpen()},{once:!0}),this.drawerElement.setAttribute("aria-hidden","false"),this.drawerElement.classList.add(this.options.openClass||"open"),this.options.awaitOpenAnimation||this.afterOpen()},t.prototype.afterOpen=function(){this.options.onOpen&&this.options.onOpen()},t.prototype.close=function(){var t=this;document.body.style.overflow="",this.drawerElement.setAttribute("aria-hidden","true"),this.options.awaitCloseAnimation&&this.drawerElement.addEventListener("animationend",function(){t.afterClose()},{once:!0}),this.options.awaitCloseAnimation||this.afterClose()},t.prototype.afterClose=function(){this.drawerElement.classList.remove(this.options.openClass||"open"),this.options.onClose&&this.options.onClose()},t}(),n="undefined"!=typeof window&&window.location&&-1!==window.location.search.indexOf("debug=true"),a=["https://app.formcrafts.com","https://5173.formcrafts.com","https://app.localhost:5173"];function i(t,e){var o=new IntersectionObserver(function(t,o){for(var n=0;n<t.length;n++)if(t[n].isIntersecting){e(),o.disconnect();return}});Array.isArray(t)?t.forEach(function(t){return o.observe(t)}):o.observe(t)}function r(t,o,i){var r,s=null!==(r="seamless"in o&&(null==o?void 0:o.seamless))&&void 0!==r&&r;window.addEventListener("message",function(r){var d;if(t.contentWindow===r.source){if(-1===a.indexOf(r.origin))return!1;if(n&&console.debug("Received message",r.data),"ga_event"===r.data.type&&void 0!==window.gtag){var c=r.data.content;window.gtag("event",c.type,c.attributes)}if("gtm_event"===r.data.type&&void 0!==window.dataLayer){var l=r.data.content;window.dataLayer.push(e({event:l.type},l.attributes))}if("load"===r.data.type){t.contentWindow.postMessage({type:"load:ok",content:"ok"},"*");var m=function(t){if("undefined"!=typeof document){var e="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===e.length)return e.pop().split(";").shift()}}("hubspotutk");if(t.contentWindow){m&&t.contentWindow.postMessage({type:"hubspotutk",content:m},"*"),t.contentWindow.postMessage({type:"url",content:window.location.href},"*"),t.contentWindow.postMessage({type:"title",content:document.title},"*"),t.contentWindow.postMessage({type:"windowInnerHeight",content:window.innerHeight},"*");var p=null!==(d=o.values)&&void 0!==d?d:{};t.contentWindow.postMessage({type:"values",content:p},"*"),o.redirectWithin&&t.contentWindow.postMessage({type:"redirectWithin",content:!0},"*")}var f=t._formcraftsEvents;f.load&&f.load.forEach(function(t){return t()})}if("page"===r.data.type){var u=t.getBoundingClientRect(),h=u.top>=0&&u.top<=window.innerHeight;h||("embed"===i?window.scrollBy({top:u.top-2*parseFloat(getComputedStyle(document.documentElement).fontSize),behavior:"smooth"}):t.scrollIntoView({behavior:"smooth",block:"start"}))}if("height"===r.data.type){var g,w="target"in o?o.target:null;void 0!==(g=r.data.content)&&(w&&(w.style.height=""),t.style.height="".concat(g,"px"),t.style.visibility="visible",t.style.position="static")}if("redirect"===r.data.type&&(window.location.href=r.data.content),"scrollIntoView"===r.data.type){var v=t.getBoundingClientRect(),y=r.data.content,b=document.createElement("div");b.style.position="absolute",b.style.top="".concat(v.top+y.top+window.scrollY,"px"),b.style.left="".concat(v.left+y.left+window.scrollX,"px"),b.style.width="".concat(y.width,"px"),b.style.height="".concat(y.height,"px"),document.body.appendChild(b),b.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),b.remove()}if("background"!==r.data.type||s||(t.style.background=r.data.content),"name"===r.data.type&&(t.ariaLabel=r.data.content,t.title=r.data.content),"submit:success"===r.data.type||"submitSuccess"===r.data.type){var x=t._formcraftsEvents;x["submit:success"]&&x["submit:success"].forEach(function(t){return t()})}if("success"===r.data.type&&"embed"===i){var u=t.getBoundingClientRect(),h=u.top>=0&&u.top<=window.innerHeight;h||window.scrollBy({top:u.top-1*parseFloat(getComputedStyle(document.documentElement).fontSize),behavior:"smooth"})}if("close"===r.data.type&&"popup"===i&&o){var E="fc-modal-".concat(o.form);document.getElementById(E).drawerInstance.close()}}})}function s(t,e){var o=t.drawerElement.querySelector("iframe"),n={on:function(t,e){var n=o._formcraftsEvents;n[t]=n[t]||[],n[t].push(e)},load:function(){o&&o.dataset.src&&(o.src=o.dataset.src,o.removeAttribute("data-src"))},values:function(t){var e;null===(e=o.contentWindow)||void 0===e||e.postMessage({type:"values",content:t},"*")},open:function(){o&&o.dataset.src&&(o.src=o.dataset.src,o.removeAttribute("data-src")),t.open()},close:function(){t.close()},destroy:function(){t.drawerElement.remove()}};return o._formcraftsInstance=n,o._formcraftsEvents={},n}t.createInlineForm=function(t){var e,o,n,a,s,d,c=!1;t.target.querySelector("iframe")?(c=!0,d=t.target.querySelector("iframe")):((d=document.createElement("iframe")).style.position="absolute",d.style.visibility="hidden"),void 0===t.seamless&&(t.seamless=!1),r(d,t,"embed");var l=window.getComputedStyle(t.target);return t.target.style.display="flex",t.target.style.justifyContent="stretch",t.target.style.width="100%",d.dataset.src=(a=null!==(n=t.formBase)&&void 0!==n?n:"https://app.formcrafts.com",(s=new URL("".concat(a,"/").concat(t.form))).searchParams.set("iframe","true"),void 0!==t.seamless&&!0===t.seamless&&s.searchParams.set("seamless","true"),void 0!==t._params&&t._params.forEach(function(t,e){s.searchParams.set(e,t)}),s.href),d.title="Formcrafts form",d.style.border="none",d.style.width=l.getPropertyValue("width"),d.scrolling="no",d.ariaLabel="Formcrafts form",d.name="formcrafts-iframe",d.classList.add("fc-inline-iframe"),d.onload=function(){t.target.style.overflow="initial",console.log("iframe loaded","".concat(t.width,"px")),void 0!==t.width&&null!==t.width?d.style.width="".concat(t.width,"px"):d.style.width="100%",d.style.maxWidth="100%",d.style.transition="height 0ms linear",d.style.willChange="height"},void 0!==t.width&&null!==t.width&&(console.log("setting width","".concat(t.width,"px")),d.style.width="".concat(t.width,"px"),d.style.maxWidth="100%"),t.seamless||(d.style.boxShadow="rgba(0, 5, 10, 0.08) 0px 0px 0px 0.5px, rgba(50, 55, 60, 0.04) 2px 3px 2px 0px, rgba(50, 50, 50, 0.03) -2px -2px 2px 0px, rgba(80, 80, 80, 0.176) 0px 7px 5px -7px",d.style.borderRadius="0.5rem"),i(d,function(){void 0!==d.dataset.src&&(d.src=d.dataset.src,d.removeAttribute("data-src"))}),!1===c&&(t.target.innerHTML="",t.target.appendChild(d)),e=d,o={on:function(t,o){var n=e._formcraftsEvents;n[t]=n[t]||[],n[t].push(o)},values:function(t){var o;null===(o=e.contentWindow)||void 0===o||o.postMessage({type:"values",content:t},"*")},destroy:function(){null==e||e.remove()}},e._formcraftsInstance=o,e._formcraftsEvents={},o},t.createPopup=function(t){var e,n,a,i=void 0===t.width?500:t.width,d="fc-modal-".concat(t.form);if(document.getElementById(d))return s(document.getElementById(d).drawerInstance);if(!document.getElementById("fc-modal-css")){var c=document.createElement("style");c.id="fc-modal-css",c.appendChild(document.createTextNode('.fc-modal{display:none;z-index:999;position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;background:rgba(0,2,4,0.6);justify-content:center;align-items:center;padding:10vh 0;overscroll-behavior:none;will-change:background-color;--slide-up-distance:8px;--slide-up-duration:200ms;}.fc-modal.fc-is-open{display:flex;}.fc-modal__container{will-change:transform;position:fixed;}.fc-modal__container{display:flex;width:100%;box-shadow:0 0 12px rgba(0,0,0,0.4);background-color:#fff;max-height:70vh;border-radius:0.5rem;overflow-y:auto;box-sizing:border-box;max-width:90vw;overscroll-behavior:contain;}.fc-modal__container iframe{min-height:200px;overscroll-behavior:contain;}@container (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}@media (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}.modal__close{background:0 0;border:0;}.modal__header .modal__close:before{content:"\\2715";}.modal__content{margin:2rem 0;line-height:1.5;color:rgba(0,0,0,0.8);}.fc-modal[aria-hidden="false"],.fc-modal[aria-hidden="true"]{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0.2,1);}.fc-modal[aria-hidden="false"] .fc-modal__container,.fc-modal[aria-hidden="true"] .fc-modal__container{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0,1);}@keyframes fcFadeIn{from{background:rgba(0,2,4,0);}to{background:rgba(0,2,4,0.6);}}@keyframes fcFadeOut{from{background:rgba(0,2,4,0.6);}to{background:rgba(0,2,4,0);}}@keyframes fcSlideUp{from{opacity:0;transform:translateY(var(--slide-up-distance));}to{opacity:1;transform:translateY(0);}}@keyframes fcSlideDown{from{opacity:1;transform:translateY(0);}to{opacity:0;transform:translateY(var(--slide-up-distance));}}.fc-modal[aria-hidden="false"]{animation-name:fcFadeIn;}.fc-modal[aria-hidden="true"]{animation-name:fcFadeOut;}.fc-modal[aria-hidden="false"] .fc-modal__container{animation-name:fcSlideUp;}.fc-modal[aria-hidden="true"] .fc-modal__container{animation-name:fcSlideDown;}')),document.head.appendChild(c)}var l=document.createElement("div");l.id=d,l.classList.add("fc-modal"),l.ariaHidden="true";var m=document.createElement("div");m.style.maxWidth="min(90vw,".concat(i,"px)"),m.style.visibility="hidden",m.role="dialog",m.setAttribute("aria-modal","true"),m.classList.add("fc-modal__container");var p=document.createElement("iframe");return r(p,t,"popup"),p.dataset.src=(n=null!==(e=t.formBase)&&void 0!==e?e:"https://app.formcrafts.com",(a=new URL("".concat(n,"/").concat(t.form))).searchParams.set("iframe","true"),a.searchParams.set("popup","true"),void 0!==t._params&&t._params.forEach(function(t,e){a.searchParams.set(e,t)}),a.href),p.title="Formcrafts popup form",p.style.border="none",p.style.width="100%",p.ariaLabel="Formcrafts popup form",p.name="formcrafts-popup-iframe",p.style.willChange="height",p.style.position="static",p.style.transition="height 0ms linear",p.style.willChange="height",p.scrolling="no",p.onload=function(){m.style.visibility="visible"},l.appendChild(m),m.appendChild(p),t.appendTo?t.appendTo.appendChild(l):document.body.appendChild(l),s(new o(l,{openClass:"fc-is-open",awaitOpenAnimation:!0,awaitCloseAnimation:!0}))},t.observeVisibility=i})(t={}),document.addEventListener("DOMContentLoaded",function(){let e=(0,t.createInlineForm)({form:"99d38f07",target:document.getElementById("formcrafts-container"),seamless:!0,redirectWithin:!0});e.on("submit:success",function(){console.log("Form submitted successfully.");let t=document.querySelector("iframe");t?t.addEventListener("load",()=>{let e=new URLSearchParams(t.contentWindow.location.href.split("?")[1]);for(let[t,o]of(console.log("Captured URL Parameters:"),e.entries()))console.log(`${t}: ${o}`);t.src="about:blank",console.log("Iframe loading prevented.")}):console.error("Iframe not found. Cannot capture redirect URL.")}),e.on("submit:error",function(t){console.error("Form submission error:",t),alert("There was an error submitting the form. Please try again.")})});
//# sourceMappingURL=index.js.map
