{"mappings":"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","sources":["<anon>","index.js","node_modules/@formcrafts/embed/lib/embed.umd.js","node_modules/@formcrafts/embed/node_modules/tslib/tslib.es6.js","node_modules/@formcrafts/embed/src/drawer.ts","node_modules/@formcrafts/embed/src/embed.ts"],"sourcesContent":["(() => {\n// index.js\nvar $7609d24ec4cb9b7b$exports = {};\n/**\n * @formcrafts/embed\n * Copyright (c) 2024-2024, Nishant Agrawal. (MIT Licensed)\n * https://github.com/formcrafts/embed\n */ /**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */ (function(global, factory) {\n    factory($7609d24ec4cb9b7b$exports);\n})($7609d24ec4cb9b7b$exports, function(exports1) {\n    'use strict';\n    /******************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */ /* global Reflect, Promise, SuppressedError, Symbol */ var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for(var s, i = 1, n = arguments.length; i < n; i++){\n                s = arguments[i];\n                for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    typeof SuppressedError === \"function\" && SuppressedError;\n    var Drawer = /** @class */ function() {\n        function Drawer(drawerElement, options) {\n            this.drawerElement = drawerElement;\n            this.options = options;\n            drawerElement.drawerInstance = this;\n            drawerElement.classList.add(\"fc-modal\");\n            this.bindEvents();\n        }\n        Drawer.prototype.bindEvents = function() {\n            var _this = this;\n            var _a;\n            (_a = this.drawerElement.querySelector(\".handle\")) === null || _a === void 0 || _a.addEventListener(\"touchstart\", function(e) {\n                return _this.close();\n            });\n            this.drawerElement.addEventListener(\"click\", function(e) {\n                if (e.target === _this.drawerElement) _this.close();\n            });\n            document.addEventListener(\"keydown\", function(e) {\n                if (e.key === \"Escape\") _this.close();\n            });\n        };\n        Drawer.prototype.open = function() {\n            var _this = this;\n            document.body.style.overflow = \"hidden\";\n            if (this.options.awaitOpenAnimation) this.drawerElement.addEventListener(\"animationend\", function() {\n                _this.afterOpen();\n            }, {\n                once: true\n            });\n            this.drawerElement.setAttribute(\"aria-hidden\", \"false\");\n            this.drawerElement.classList.add(this.options.openClass || \"open\");\n            if (!this.options.awaitOpenAnimation) this.afterOpen();\n        };\n        Drawer.prototype.afterOpen = function() {\n            if (this.options.onOpen) this.options.onOpen();\n        };\n        Drawer.prototype.close = function() {\n            var _this = this;\n            document.body.style.overflow = \"\";\n            this.drawerElement.setAttribute(\"aria-hidden\", \"true\");\n            if (this.options.awaitCloseAnimation) this.drawerElement.addEventListener(\"animationend\", function() {\n                _this.afterClose();\n            }, {\n                once: true\n            });\n            if (!this.options.awaitCloseAnimation) this.afterClose();\n        };\n        Drawer.prototype.afterClose = function() {\n            this.drawerElement.classList.remove(this.options.openClass || \"open\");\n            if (this.options.onClose) this.options.onClose();\n        };\n        return Drawer;\n    }();\n    var css = \".fc-modal{display:none;z-index:999;position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;background:rgba(0,2,4,0.6);justify-content:center;align-items:center;padding:10vh 0;overscroll-behavior:none;will-change:background-color;--slide-up-distance:8px;--slide-up-duration:200ms;}.fc-modal.fc-is-open{display:flex;}.fc-modal__container{will-change:transform;position:fixed;}.fc-modal__container{display:flex;width:100%;box-shadow:0 0 12px rgba(0,0,0,0.4);background-color:#fff;max-height:70vh;border-radius:0.5rem;overflow-y:auto;box-sizing:border-box;max-width:90vw;overscroll-behavior:contain;}.fc-modal__container iframe{min-height:200px;overscroll-behavior:contain;}@container (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}@media (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}.modal__close{background:0 0;border:0;}.modal__header .modal__close:before{content:\\\"\\\\2715\\\";}.modal__content{margin:2rem 0;line-height:1.5;color:rgba(0,0,0,0.8);}.fc-modal[aria-hidden=\\\"false\\\"],.fc-modal[aria-hidden=\\\"true\\\"]{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0.2,1);}.fc-modal[aria-hidden=\\\"false\\\"] .fc-modal__container,.fc-modal[aria-hidden=\\\"true\\\"] .fc-modal__container{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0,1);}@keyframes fcFadeIn{from{background:rgba(0,2,4,0);}to{background:rgba(0,2,4,0.6);}}@keyframes fcFadeOut{from{background:rgba(0,2,4,0.6);}to{background:rgba(0,2,4,0);}}@keyframes fcSlideUp{from{opacity:0;transform:translateY(var(--slide-up-distance));}to{opacity:1;transform:translateY(0);}}@keyframes fcSlideDown{from{opacity:1;transform:translateY(0);}to{opacity:0;transform:translateY(var(--slide-up-distance));}}.fc-modal[aria-hidden=\\\"false\\\"]{animation-name:fcFadeIn;}.fc-modal[aria-hidden=\\\"true\\\"]{animation-name:fcFadeOut;}.fc-modal[aria-hidden=\\\"false\\\"] .fc-modal__container{animation-name:fcSlideUp;}.fc-modal[aria-hidden=\\\"true\\\"] .fc-modal__container{animation-name:fcSlideDown;}\";\n    function getCookie(name) {\n        if (typeof document === \"undefined\") return;\n        var value = \"; \".concat(document.cookie);\n        var parts = value.split(\"; \".concat(name, \"=\"));\n        if (parts.length === 2) return parts.pop().split(\";\").shift();\n    }\n    var debug = typeof window !== \"undefined\" && window.location && window.location.search.indexOf(\"debug=true\") !== -1;\n    var authorizedDomain = [\n        \"https://app.formcrafts.com\",\n        \"https://5173.formcrafts.com\",\n        \"https://app.localhost:5173\"\n    ];\n    var iframeShadow = \"rgba(0, 5, 10, 0.08) 0px 0px 0px 0.5px, rgba(50, 55, 60, 0.04) 2px 3px 2px 0px, rgba(50, 50, 50, 0.03) -2px -2px 2px 0px, rgba(80, 80, 80, 0.176) 0px 7px 5px -7px\";\n    // iframeSrc util\n    function buildIframeSrc(options) {\n        var _a;\n        var base = (_a = options.formBase) !== null && _a !== void 0 ? _a : \"https://app.formcrafts.com\";\n        var url = new URL(\"\".concat(base, \"/\").concat(options.form));\n        url.searchParams.set(\"iframe\", \"true\");\n        if (typeof options.seamless !== \"undefined\" && options.seamless === true) url.searchParams.set(\"seamless\", \"true\");\n        if (typeof options._params !== \"undefined\") options._params.forEach(function(value, key) {\n            url.searchParams.set(key, value);\n        });\n        return url.href;\n    }\n    function buildIframeSrcPopup(options) {\n        var _a;\n        var base = (_a = options.formBase) !== null && _a !== void 0 ? _a : \"https://app.formcrafts.com\";\n        var url = new URL(\"\".concat(base, \"/\").concat(options.form));\n        url.searchParams.set(\"iframe\", \"true\");\n        url.searchParams.set(\"popup\", \"true\");\n        if (typeof options._params !== \"undefined\") options._params.forEach(function(value, key) {\n            url.searchParams.set(key, value);\n        });\n        return url.href;\n    }\n    function observeVisibility(targets, callback) {\n        var handleIntersection = function(entries, observer) {\n            for(var _i = 0, entries_1 = entries; _i < entries_1.length; _i++){\n                var entry = entries_1[_i];\n                if (entry.isIntersecting) {\n                    callback();\n                    observer.disconnect();\n                    return;\n                }\n            }\n        };\n        var observer = new IntersectionObserver(handleIntersection);\n        if (Array.isArray(targets)) targets.forEach(function(target) {\n            return observer.observe(target);\n        });\n        else observer.observe(targets);\n    }\n    function adjustIframeHeight(iframe, newHeight, target) {\n        if (typeof newHeight === \"undefined\") return;\n        if (target) target.style.height = \"\";\n        iframe.style.height = \"\".concat(newHeight, \"px\");\n        iframe.style.visibility = \"visible\";\n        iframe.style.position = \"static\";\n    }\n    function createEventListeners(iframe, options, type) {\n        var _a;\n        var seamless = (_a = \"seamless\" in options && (options === null || options === void 0 ? void 0 : options.seamless)) !== null && _a !== void 0 ? _a : false;\n        window.addEventListener(\"message\", function(event) {\n            var _a;\n            if (iframe.contentWindow !== event.source) return;\n            if (authorizedDomain.indexOf(event.origin) === -1) return false;\n            if (debug) console.debug(\"Received message\", event.data);\n            if (event.data.type === \"ga_event\" && typeof window.gtag !== \"undefined\") {\n                var ga_event = event.data.content;\n                window.gtag(\"event\", ga_event.type, ga_event.attributes);\n            }\n            if (event.data.type === \"gtm_event\" && typeof window.dataLayer !== \"undefined\") {\n                var gtm_event = event.data.content;\n                window.dataLayer.push(__assign({\n                    event: gtm_event.type\n                }, gtm_event.attributes));\n            }\n            if (event.data.type === \"load\") {\n                iframe.contentWindow.postMessage({\n                    type: \"load:ok\",\n                    content: \"ok\"\n                }, \"*\");\n                var hubspotUtk = getCookie(\"hubspotutk\");\n                // Send hubspotutk to iframe\n                if (iframe.contentWindow) {\n                    if (hubspotUtk) iframe.contentWindow.postMessage({\n                        type: \"hubspotutk\",\n                        content: hubspotUtk\n                    }, \"*\");\n                    // Send url to iframe\n                    iframe.contentWindow.postMessage({\n                        type: \"url\",\n                        content: window.location.href\n                    }, \"*\");\n                    // Send page title to iframe\n                    iframe.contentWindow.postMessage({\n                        type: \"title\",\n                        content: document.title\n                    }, \"*\");\n                    // Send window.innerHeight to iframe\n                    iframe.contentWindow.postMessage({\n                        type: \"windowInnerHeight\",\n                        content: window.innerHeight\n                    }, \"*\");\n                    var prefill = (_a = options.values) !== null && _a !== void 0 ? _a : {};\n                    iframe.contentWindow.postMessage({\n                        type: \"values\",\n                        content: prefill\n                    }, \"*\");\n                    if (options.redirectWithin) iframe.contentWindow.postMessage({\n                        type: \"redirectWithin\",\n                        content: true\n                    }, \"*\");\n                }\n                var events_1 = iframe._formcraftsEvents;\n                if (events_1.load) events_1.load.forEach(function(callback) {\n                    return callback();\n                });\n            }\n            if (event.data.type === \"page\") {\n                var rect = iframe.getBoundingClientRect();\n                var isVisible = rect.top >= 0 && rect.top <= window.innerHeight;\n                if (!isVisible) {\n                    if (type === \"embed\") window.scrollBy({\n                        top: rect.top - parseFloat(getComputedStyle(document.documentElement).fontSize) * 2,\n                        behavior: \"smooth\"\n                    });\n                    else iframe.scrollIntoView({\n                        behavior: \"smooth\",\n                        block: \"start\"\n                    });\n                }\n            }\n            if (event.data.type === \"height\") {\n                var target = \"target\" in options ? options.target : null;\n                adjustIframeHeight(iframe, event.data.content, target);\n            }\n            if (event.data.type === \"redirect\") window.location.href = event.data.content;\n            if (event.data.type === \"scrollIntoView\") {\n                var iframeRect = iframe.getBoundingClientRect();\n                var elementRect = event.data.content;\n                var pseudoElement = document.createElement(\"div\");\n                pseudoElement.style.position = \"absolute\";\n                pseudoElement.style.top = \"\".concat(iframeRect.top + elementRect.top + window.scrollY, \"px\");\n                pseudoElement.style.left = \"\".concat(iframeRect.left + elementRect.left + window.scrollX, \"px\");\n                pseudoElement.style.width = \"\".concat(elementRect.width, \"px\");\n                pseudoElement.style.height = \"\".concat(elementRect.height, \"px\");\n                document.body.appendChild(pseudoElement);\n                pseudoElement.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"center\",\n                    inline: \"nearest\"\n                });\n                pseudoElement.remove();\n            }\n            if (event.data.type === \"background\" && !seamless) iframe.style.background = event.data.content;\n            if (event.data.type === \"name\") {\n                iframe.ariaLabel = event.data.content;\n                iframe.title = event.data.content;\n            }\n            if (event.data.type === \"submit:success\" || event.data.type === \"submitSuccess\") {\n                var events_2 = iframe._formcraftsEvents;\n                if (events_2[\"submit:success\"]) events_2[\"submit:success\"].forEach(function(callback) {\n                    return callback();\n                });\n            }\n            if (event.data.type === \"success\" && type === \"embed\") {\n                var rect = iframe.getBoundingClientRect();\n                var isVisible = rect.top >= 0 && rect.top <= window.innerHeight;\n                if (!isVisible) window.scrollBy({\n                    top: rect.top - parseFloat(getComputedStyle(document.documentElement).fontSize) * 1,\n                    behavior: \"smooth\"\n                });\n            }\n            if (event.data.type === \"close\" && type === \"popup\" && options) {\n                var modalId = \"fc-modal-\".concat(options.form);\n                var existingModal = document.getElementById(modalId);\n                var existingDrawer = existingModal.drawerInstance;\n                existingDrawer.close();\n            }\n        });\n    }\n    /**\n     * Creates an inline form using an iframe.\n     *\n     * @param {EmbedOptions} options - The options for the form.\n     * @returns {ReturnType} The return type of the createReturn function.\n     */ function createInlineForm(options) {\n        // Check if widget is already created\n        var iframe;\n        var exists = false;\n        if (options.target.querySelector(\"iframe\")) {\n            exists = true;\n            iframe = options.target.querySelector(\"iframe\");\n        } else {\n            iframe = document.createElement(\"iframe\");\n            iframe.style.position = \"absolute\";\n            iframe.style.visibility = \"hidden\";\n        }\n        if (typeof options.seamless === \"undefined\") options.seamless = false;\n        createEventListeners(iframe, options, \"embed\");\n        var targetStyles = window.getComputedStyle(options.target);\n        options.target.style.display = \"flex\";\n        options.target.style.justifyContent = \"stretch\";\n        options.target.style.width = \"100%\";\n        iframe.dataset.src = buildIframeSrc(options);\n        iframe.title = \"Formcrafts form\";\n        iframe.style.border = \"none\";\n        iframe.style.width = targetStyles.getPropertyValue(\"width\");\n        iframe.scrolling = \"no\";\n        iframe.ariaLabel = \"Formcrafts form\";\n        iframe.name = \"formcrafts-iframe\";\n        iframe.classList.add(\"fc-inline-iframe\");\n        iframe.onload = function() {\n            options.target.style.overflow = \"initial\";\n            console.log(\"iframe loaded\", \"\".concat(options.width, \"px\"));\n            if (typeof options.width !== \"undefined\" && options.width !== null) iframe.style.width = \"\".concat(options.width, \"px\");\n            else iframe.style.width = \"100%\";\n            iframe.style.maxWidth = \"100%\";\n            iframe.style.transition = \"height 0ms linear\";\n            iframe.style.willChange = \"height\";\n        };\n        if (typeof options.width !== \"undefined\" && options.width !== null) {\n            console.log(\"setting width\", \"\".concat(options.width, \"px\"));\n            iframe.style.width = \"\".concat(options.width, \"px\");\n            iframe.style.maxWidth = \"100%\";\n        }\n        if (!options.seamless) {\n            iframe.style.boxShadow = iframeShadow;\n            iframe.style.borderRadius = \"0.5rem\";\n        }\n        observeVisibility(iframe, function() {\n            if (typeof iframe.dataset.src !== \"undefined\") {\n                iframe.src = iframe.dataset.src;\n                iframe.removeAttribute(\"data-src\");\n            }\n        });\n        if (exists === false) {\n            options.target.innerHTML = \"\";\n            options.target.appendChild(iframe);\n        }\n        return createReturn(iframe);\n    }\n    function createReturn(iframe, options) {\n        var instance = {\n            on: function(event, callback) {\n                var events = iframe._formcraftsEvents;\n                events[event] = events[event] || [];\n                events[event].push(callback);\n            },\n            values: function(values) {\n                var _a;\n                (_a = iframe.contentWindow) === null || _a === void 0 || _a.postMessage({\n                    type: \"values\",\n                    content: values\n                }, \"*\");\n            },\n            destroy: function() {\n                iframe === null || iframe === void 0 || iframe.remove();\n            }\n        };\n        iframe._formcraftsInstance = instance;\n        iframe._formcraftsEvents = {};\n        return instance;\n    }\n    function createPopupReturn(drawer, config) {\n        var iframe = drawer.drawerElement.querySelector(\"iframe\");\n        var instance = {\n            on: function(event, callback) {\n                var events = iframe._formcraftsEvents;\n                events[event] = events[event] || [];\n                events[event].push(callback);\n            },\n            load: function() {\n                if (iframe) {\n                    var src = iframe.dataset.src;\n                    if (src) {\n                        iframe.src = iframe.dataset.src;\n                        iframe.removeAttribute(\"data-src\");\n                    }\n                }\n            },\n            values: function(values) {\n                var _a;\n                (_a = iframe.contentWindow) === null || _a === void 0 || _a.postMessage({\n                    type: \"values\",\n                    content: values\n                }, \"*\");\n            },\n            open: function() {\n                if (iframe) {\n                    var src = iframe.dataset.src;\n                    if (src) {\n                        iframe.src = iframe.dataset.src;\n                        iframe.removeAttribute(\"data-src\");\n                    }\n                }\n                drawer.open();\n            },\n            close: function() {\n                drawer.close();\n            },\n            destroy: function() {\n                drawer.drawerElement.remove();\n            }\n        };\n        iframe._formcraftsInstance = instance;\n        iframe._formcraftsEvents = {};\n        return instance;\n    }\n    // Create popup\n    function createPopup(options) {\n        var modalConfig = {\n            openClass: \"fc-is-open\",\n            awaitOpenAnimation: true,\n            awaitCloseAnimation: true\n        };\n        var width = typeof options.width === \"undefined\" ? 500 : options.width;\n        // Create modal elements\n        var modalId = \"fc-modal-\".concat(options.form);\n        // Check if modal exists\n        if (document.getElementById(modalId)) {\n            var existingModal = document.getElementById(modalId);\n            var existingDrawer = existingModal.drawerInstance;\n            return createPopupReturn(existingDrawer);\n        }\n        // Get / create style\n        if (!document.getElementById(\"fc-modal-css\")) {\n            var style = document.createElement(\"style\");\n            style.id = \"fc-modal-css\";\n            style.appendChild(document.createTextNode(css));\n            document.head.appendChild(style);\n        }\n        var modal = document.createElement(\"div\");\n        modal.id = modalId;\n        modal.classList.add(\"fc-modal\");\n        modal.ariaHidden = \"true\";\n        var modalContainer = document.createElement(\"div\");\n        modalContainer.style.maxWidth = \"min(90vw,\".concat(width, \"px)\");\n        modalContainer.style.visibility = \"hidden\";\n        modalContainer.role = \"dialog\";\n        modalContainer.setAttribute(\"aria-modal\", \"true\");\n        modalContainer.classList.add(\"fc-modal__container\");\n        // Create form iframe\n        var iframe = document.createElement(\"iframe\");\n        createEventListeners(iframe, options, \"popup\");\n        iframe.dataset.src = buildIframeSrcPopup(options);\n        iframe.title = \"Formcrafts popup form\";\n        iframe.style.border = \"none\";\n        iframe.style.width = \"100%\";\n        iframe.ariaLabel = \"Formcrafts popup form\";\n        iframe.name = \"formcrafts-popup-iframe\";\n        iframe.style.willChange = \"height\";\n        iframe.style.position = \"static\";\n        iframe.style.transition = \"height 0ms linear\";\n        iframe.style.willChange = \"height\";\n        iframe.scrolling = \"no\";\n        iframe.onload = function() {\n            modalContainer.style.visibility = \"visible\";\n        };\n        modal.appendChild(modalContainer);\n        modalContainer.appendChild(iframe);\n        if (options.appendTo) options.appendTo.appendChild(modal);\n        else document.body.appendChild(modal);\n        var myDrawer = new Drawer(modal, modalConfig);\n        return createPopupReturn(myDrawer);\n    }\n    exports1.createInlineForm = createInlineForm;\n    exports1.createPopup = createPopup;\n    exports1.observeVisibility = observeVisibility;\n});\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Initialize the Formcrafts inline form\n    const myInlineForm = (0, $7609d24ec4cb9b7b$exports.createInlineForm)({\n        form: \"99d38f07\",\n        target: document.getElementById(\"formcrafts-container\"),\n        seamless: true,\n        redirectWithin: true\n    });\n    // Function to parse query parameters from a URL\n    function getQueryParams(url) {\n        const queryString = url.split('?')[1];\n        return queryString ? new URLSearchParams(queryString) : null;\n    }\n    // Watch for dynamically added iframes\n    const observer = new MutationObserver((mutations)=>{\n        mutations.forEach((mutation)=>{\n            mutation.addedNodes.forEach((node)=>{\n                if (node.tagName === \"IFRAME\") {\n                    console.log(\"Iframe detected:\", node);\n                    // Handle iframe load\n                    const iframe = node;\n                    iframe.addEventListener(\"load\", function() {\n                        try {\n                            const iframeUrl = iframe.contentWindow?.location?.href;\n                            // Check if iframe content is accessible\n                            if (iframeUrl) {\n                                const params = getQueryParams(iframeUrl);\n                                if (params) {\n                                    console.log(\"Captured URL Parameters:\");\n                                    for (const [key, value] of params.entries())console.log(`${key}: ${value}`);\n                                } else console.warn(\"No query parameters found in the URL.\");\n                                // Prevent iframe content from loading\n                                iframe.src = \"about:blank\";\n                                console.log(\"Iframe loading prevented.\");\n                            } else console.error(\"Iframe URL is inaccessible (likely cross-origin).\");\n                        } catch (err) {\n                            console.error(\"Error handling iframe load:\", err);\n                        }\n                    });\n                }\n            });\n        });\n    });\n    // Start observing for iframes\n    observer.observe(document.body, {\n        childList: true,\n        subtree: true\n    });\n    // Handle form submission success\n    myInlineForm.on(\"submit:success\", function() {\n        console.log(\"Form submitted successfully.\");\n    });\n    // Handle form submission errors\n    myInlineForm.on(\"submit:error\", function(errors) {\n        console.error(\"Form submission error:\", errors);\n        alert(\"There was an error submitting the form. Please try again.\");\n    });\n});\n\n})();\n//# sourceMappingURL=index.js.map\n","// index.js\nimport { createInlineForm } from '@formcrafts/embed';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Initialize the Formcrafts inline form\n  const myInlineForm = createInlineForm({\n    form: \"99d38f07\", // Your actual Form Key\n    target: document.getElementById(\"formcrafts-container\"),\n    seamless: true, // Optional styling\n    redirectWithin: true, // Required to capture the redirect URL\n  });\n\n  // Function to parse query parameters from a URL\n  function getQueryParams(url) {\n    const queryString = url.split('?')[1];\n    return queryString ? new URLSearchParams(queryString) : null;\n  }\n\n  // Watch for dynamically added iframes\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      mutation.addedNodes.forEach((node) => {\n        if (node.tagName === \"IFRAME\") {\n          console.log(\"Iframe detected:\", node);\n\n          // Handle iframe load\n          const iframe = node;\n          iframe.addEventListener(\"load\", function () {\n            try {\n              const iframeUrl = iframe.contentWindow?.location?.href;\n\n              // Check if iframe content is accessible\n              if (iframeUrl) {\n                const params = getQueryParams(iframeUrl);\n                if (params) {\n                  console.log(\"Captured URL Parameters:\");\n                  for (const [key, value] of params.entries()) {\n                    console.log(`${key}: ${value}`);\n                  }\n                } else {\n                  console.warn(\"No query parameters found in the URL.\");\n                }\n\n                // Prevent iframe content from loading\n                iframe.src = \"about:blank\";\n                console.log(\"Iframe loading prevented.\");\n              } else {\n                console.error(\"Iframe URL is inaccessible (likely cross-origin).\");\n              }\n            } catch (err) {\n              console.error(\"Error handling iframe load:\", err);\n            }\n          });\n        }\n      });\n    });\n  });\n\n  // Start observing for iframes\n  observer.observe(document.body, { childList: true, subtree: true });\n\n  // Handle form submission success\n  myInlineForm.on(\"submit:success\", function () {\n    console.log(\"Form submitted successfully.\");\n  });\n\n  // Handle form submission errors\n  myInlineForm.on(\"submit:error\", function (errors) {\n    console.error(\"Form submission error:\", errors);\n    alert(\"There was an error submitting the form. Please try again.\");\n  });\n});","/**\n * @formcrafts/embed\n * Copyright (c) 2024-2024, Nishant Agrawal. (MIT Licensed)\n * https://github.com/formcrafts/embed\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.embed = {}));\n})(this, (function (exports) { 'use strict';\n\n    /******************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n        var e = new Error(message);\r\n        return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n    };\n\n    var Drawer = /** @class */ (function () {\n        function Drawer(drawerElement, options) {\n            this.drawerElement = drawerElement;\n            this.options = options;\n            drawerElement.drawerInstance = this;\n            drawerElement.classList.add(\"fc-modal\");\n            this.bindEvents();\n        }\n        Drawer.prototype.bindEvents = function () {\n            var _this = this;\n            var _a;\n            (_a = this.drawerElement.querySelector(\".handle\")) === null || _a === void 0 ? void 0 : _a.addEventListener(\"touchstart\", function (e) { return _this.close(); });\n            this.drawerElement.addEventListener(\"click\", function (e) {\n                if (e.target === _this.drawerElement)\n                    _this.close();\n            });\n            document.addEventListener(\"keydown\", function (e) {\n                if (e.key === \"Escape\")\n                    _this.close();\n            });\n        };\n        Drawer.prototype.open = function () {\n            var _this = this;\n            document.body.style.overflow = \"hidden\";\n            if (this.options.awaitOpenAnimation) {\n                this.drawerElement.addEventListener(\"animationend\", function () {\n                    _this.afterOpen();\n                }, { once: true });\n            }\n            this.drawerElement.setAttribute(\"aria-hidden\", \"false\");\n            this.drawerElement.classList.add(this.options.openClass || \"open\");\n            if (!this.options.awaitOpenAnimation) {\n                this.afterOpen();\n            }\n        };\n        Drawer.prototype.afterOpen = function () {\n            if (this.options.onOpen)\n                this.options.onOpen();\n        };\n        Drawer.prototype.close = function () {\n            var _this = this;\n            document.body.style.overflow = \"\";\n            this.drawerElement.setAttribute(\"aria-hidden\", \"true\");\n            if (this.options.awaitCloseAnimation) {\n                this.drawerElement.addEventListener(\"animationend\", function () {\n                    _this.afterClose();\n                }, { once: true });\n            }\n            if (!this.options.awaitCloseAnimation) {\n                this.afterClose();\n            }\n        };\n        Drawer.prototype.afterClose = function () {\n            this.drawerElement.classList.remove(this.options.openClass || \"open\");\n            if (this.options.onClose)\n                this.options.onClose();\n        };\n        return Drawer;\n    }());\n\n    var css = \".fc-modal{display:none;z-index:999;position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;background:rgba(0,2,4,0.6);justify-content:center;align-items:center;padding:10vh 0;overscroll-behavior:none;will-change:background-color;--slide-up-distance:8px;--slide-up-duration:200ms;}.fc-modal.fc-is-open{display:flex;}.fc-modal__container{will-change:transform;position:fixed;}.fc-modal__container{display:flex;width:100%;box-shadow:0 0 12px rgba(0,0,0,0.4);background-color:#fff;max-height:70vh;border-radius:0.5rem;overflow-y:auto;box-sizing:border-box;max-width:90vw;overscroll-behavior:contain;}.fc-modal__container iframe{min-height:200px;overscroll-behavior:contain;}@container (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}@media (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}.modal__close{background:0 0;border:0;}.modal__header .modal__close:before{content:\\\"\\\\2715\\\";}.modal__content{margin:2rem 0;line-height:1.5;color:rgba(0,0,0,0.8);}.fc-modal[aria-hidden=\\\"false\\\"],.fc-modal[aria-hidden=\\\"true\\\"]{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0.2,1);}.fc-modal[aria-hidden=\\\"false\\\"] .fc-modal__container,.fc-modal[aria-hidden=\\\"true\\\"] .fc-modal__container{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0,1);}@keyframes fcFadeIn{from{background:rgba(0,2,4,0);}to{background:rgba(0,2,4,0.6);}}@keyframes fcFadeOut{from{background:rgba(0,2,4,0.6);}to{background:rgba(0,2,4,0);}}@keyframes fcSlideUp{from{opacity:0;transform:translateY(var(--slide-up-distance));}to{opacity:1;transform:translateY(0);}}@keyframes fcSlideDown{from{opacity:1;transform:translateY(0);}to{opacity:0;transform:translateY(var(--slide-up-distance));}}.fc-modal[aria-hidden=\\\"false\\\"]{animation-name:fcFadeIn;}.fc-modal[aria-hidden=\\\"true\\\"]{animation-name:fcFadeOut;}.fc-modal[aria-hidden=\\\"false\\\"] .fc-modal__container{animation-name:fcSlideUp;}.fc-modal[aria-hidden=\\\"true\\\"] .fc-modal__container{animation-name:fcSlideDown;}\";\n\n    function getCookie(name) {\n        if (typeof document === \"undefined\")\n            return;\n        var value = \"; \".concat(document.cookie);\n        var parts = value.split(\"; \".concat(name, \"=\"));\n        if (parts.length === 2)\n            return parts.pop().split(\";\").shift();\n    }\n    var debug = typeof window !== \"undefined\" && window.location &&\n        window.location.search.indexOf(\"debug=true\") !== -1;\n    var authorizedDomain = [\n        \"https://app.formcrafts.com\",\n        \"https://5173.formcrafts.com\",\n        \"https://app.localhost:5173\",\n    ];\n    var iframeShadow = \"rgba(0, 5, 10, 0.08) 0px 0px 0px 0.5px, rgba(50, 55, 60, 0.04) 2px 3px 2px 0px, rgba(50, 50, 50, 0.03) -2px -2px 2px 0px, rgba(80, 80, 80, 0.176) 0px 7px 5px -7px\";\n    // iframeSrc util\n    function buildIframeSrc(options) {\n        var _a;\n        var base = (_a = options.formBase) !== null && _a !== void 0 ? _a : \"https://app.formcrafts.com\";\n        var url = new URL(\"\".concat(base, \"/\").concat(options.form));\n        url.searchParams.set(\"iframe\", \"true\");\n        if (typeof options.seamless !== \"undefined\" && options.seamless === true) {\n            url.searchParams.set(\"seamless\", \"true\");\n        }\n        if (typeof options._params !== \"undefined\") {\n            options._params.forEach(function (value, key) {\n                url.searchParams.set(key, value);\n            });\n        }\n        return url.href;\n    }\n    function buildIframeSrcPopup(options) {\n        var _a;\n        var base = (_a = options.formBase) !== null && _a !== void 0 ? _a : \"https://app.formcrafts.com\";\n        var url = new URL(\"\".concat(base, \"/\").concat(options.form));\n        url.searchParams.set(\"iframe\", \"true\");\n        url.searchParams.set(\"popup\", \"true\");\n        if (typeof options._params !== \"undefined\") {\n            options._params.forEach(function (value, key) {\n                url.searchParams.set(key, value);\n            });\n        }\n        return url.href;\n    }\n    function observeVisibility(targets, callback) {\n        var handleIntersection = function (entries, observer) {\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                if (entry.isIntersecting) {\n                    callback();\n                    observer.disconnect();\n                    return;\n                }\n            }\n        };\n        var observer = new IntersectionObserver(handleIntersection);\n        if (Array.isArray(targets)) {\n            targets.forEach(function (target) { return observer.observe(target); });\n        }\n        else {\n            observer.observe(targets);\n        }\n    }\n    function adjustIframeHeight(iframe, newHeight, target) {\n        if (typeof newHeight === \"undefined\")\n            return;\n        if (target) {\n            target.style.height = \"\";\n        }\n        iframe.style.height = \"\".concat(newHeight, \"px\");\n        iframe.style.visibility = \"visible\";\n        iframe.style.position = \"static\";\n    }\n    function createEventListeners(iframe, options, type) {\n        var _a;\n        var seamless = (_a = (\"seamless\" in options && (options === null || options === void 0 ? void 0 : options.seamless))) !== null && _a !== void 0 ? _a : false;\n        window.addEventListener(\"message\", function (event) {\n            var _a;\n            if (iframe.contentWindow !== event.source)\n                return;\n            if (authorizedDomain.indexOf(event.origin) === -1)\n                return false;\n            if (debug) {\n                console.debug(\"Received message\", event.data);\n            }\n            if (event.data.type === \"ga_event\" &&\n                typeof window.gtag !== \"undefined\") {\n                var ga_event = event.data.content;\n                window.gtag(\"event\", ga_event.type, ga_event.attributes);\n            }\n            if (event.data.type === \"gtm_event\" &&\n                typeof window.dataLayer !== \"undefined\") {\n                var gtm_event = event.data.content;\n                window.dataLayer.push(__assign({ event: gtm_event.type }, gtm_event.attributes));\n            }\n            if (event.data.type === \"load\") {\n                iframe.contentWindow.postMessage({\n                    type: \"load:ok\",\n                    content: \"ok\",\n                }, \"*\");\n                var hubspotUtk = getCookie(\"hubspotutk\");\n                // Send hubspotutk to iframe\n                if (iframe.contentWindow) {\n                    if (hubspotUtk) {\n                        iframe.contentWindow.postMessage({\n                            type: \"hubspotutk\",\n                            content: hubspotUtk,\n                        }, \"*\");\n                    }\n                    // Send url to iframe\n                    iframe.contentWindow.postMessage({\n                        type: \"url\",\n                        content: window.location.href,\n                    }, \"*\");\n                    // Send page title to iframe\n                    iframe.contentWindow.postMessage({\n                        type: \"title\",\n                        content: document.title,\n                    }, \"*\");\n                    // Send window.innerHeight to iframe\n                    iframe.contentWindow.postMessage({\n                        type: \"windowInnerHeight\",\n                        content: window.innerHeight,\n                    }, \"*\");\n                    var prefill = (_a = options.values) !== null && _a !== void 0 ? _a : {};\n                    iframe.contentWindow.postMessage({\n                        type: \"values\",\n                        content: prefill,\n                    }, \"*\");\n                    if (options.redirectWithin) {\n                        iframe.contentWindow.postMessage({\n                            type: \"redirectWithin\",\n                            content: true,\n                        }, \"*\");\n                    }\n                }\n                var events_1 = iframe._formcraftsEvents;\n                if (events_1.load) {\n                    events_1.load.forEach(function (callback) { return callback(); });\n                }\n            }\n            if (event.data.type === \"page\") {\n                var rect = iframe.getBoundingClientRect();\n                var isVisible = rect.top >= 0 && rect.top <= window.innerHeight;\n                if (!isVisible) {\n                    if (type === \"embed\") {\n                        window.scrollBy({\n                            top: rect.top -\n                                parseFloat(getComputedStyle(document.documentElement).fontSize) *\n                                    2,\n                            behavior: \"smooth\",\n                        });\n                    }\n                    else {\n                        iframe.scrollIntoView({\n                            behavior: \"smooth\",\n                            block: \"start\",\n                        });\n                    }\n                }\n            }\n            if (event.data.type === \"height\") {\n                var target = \"target\" in options ? options.target : null;\n                adjustIframeHeight(iframe, event.data.content, target);\n            }\n            if (event.data.type === \"redirect\") {\n                window.location.href = event.data.content;\n            }\n            if (event.data.type === \"scrollIntoView\") {\n                var iframeRect = iframe.getBoundingClientRect();\n                var elementRect = event.data.content;\n                var pseudoElement = document.createElement(\"div\");\n                pseudoElement.style.position = \"absolute\";\n                pseudoElement.style.top = \"\".concat(iframeRect.top + elementRect.top + window.scrollY, \"px\");\n                pseudoElement.style.left = \"\".concat(iframeRect.left + elementRect.left + window.scrollX, \"px\");\n                pseudoElement.style.width = \"\".concat(elementRect.width, \"px\");\n                pseudoElement.style.height = \"\".concat(elementRect.height, \"px\");\n                document.body.appendChild(pseudoElement);\n                pseudoElement.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"center\",\n                    inline: \"nearest\",\n                });\n                pseudoElement.remove();\n            }\n            if (event.data.type === \"background\" && !seamless) {\n                iframe.style.background = event.data.content;\n            }\n            if (event.data.type === \"name\") {\n                iframe.ariaLabel = event.data.content;\n                iframe.title = event.data.content;\n            }\n            if (event.data.type === \"submit:success\" ||\n                event.data.type === \"submitSuccess\") {\n                var events_2 = iframe._formcraftsEvents;\n                if (events_2[\"submit:success\"]) {\n                    events_2[\"submit:success\"].forEach(function (callback) { return callback(); });\n                }\n            }\n            if (event.data.type === \"success\" && type === \"embed\") {\n                var rect = iframe.getBoundingClientRect();\n                var isVisible = rect.top >= 0 && rect.top <= window.innerHeight;\n                if (!isVisible) {\n                    window.scrollBy({\n                        top: rect.top -\n                            parseFloat(getComputedStyle(document.documentElement).fontSize) * 1,\n                        behavior: \"smooth\",\n                    });\n                }\n            }\n            if (event.data.type === \"close\" && type === \"popup\" && options) {\n                var modalId = \"fc-modal-\".concat(options.form);\n                var existingModal = document.getElementById(modalId);\n                var existingDrawer = existingModal.drawerInstance;\n                existingDrawer.close();\n            }\n        });\n    }\n    /**\n     * Creates an inline form using an iframe.\n     *\n     * @param {EmbedOptions} options - The options for the form.\n     * @returns {ReturnType} The return type of the createReturn function.\n     */\n    function createInlineForm(options) {\n        // Check if widget is already created\n        var iframe;\n        var exists = false;\n        if (options.target.querySelector(\"iframe\")) {\n            exists = true;\n            iframe = options.target.querySelector(\"iframe\");\n        }\n        else {\n            iframe = document.createElement(\"iframe\");\n            iframe.style.position = \"absolute\";\n            iframe.style.visibility = \"hidden\";\n        }\n        if (typeof options.seamless === \"undefined\") {\n            options.seamless = false;\n        }\n        createEventListeners(iframe, options, \"embed\");\n        var targetStyles = window.getComputedStyle(options.target);\n        options.target.style.display = \"flex\";\n        options.target.style.justifyContent = \"stretch\";\n        options.target.style.width = \"100%\";\n        iframe.dataset.src = buildIframeSrc(options);\n        iframe.title = \"Formcrafts form\";\n        iframe.style.border = \"none\";\n        iframe.style.width = targetStyles.getPropertyValue(\"width\");\n        iframe.scrolling = \"no\";\n        iframe.ariaLabel = \"Formcrafts form\";\n        iframe.name = \"formcrafts-iframe\";\n        iframe.classList.add(\"fc-inline-iframe\");\n        iframe.onload = function () {\n            options.target.style.overflow = \"initial\";\n            console.log(\"iframe loaded\", \"\".concat(options.width, \"px\"));\n            if (typeof options.width !== \"undefined\" && options.width !== null) {\n                iframe.style.width = \"\".concat(options.width, \"px\");\n            }\n            else {\n                iframe.style.width = \"100%\";\n            }\n            iframe.style.maxWidth = \"100%\";\n            iframe.style.transition = \"height 0ms linear\";\n            iframe.style.willChange = \"height\";\n        };\n        if (typeof options.width !== \"undefined\" && options.width !== null) {\n            console.log(\"setting width\", \"\".concat(options.width, \"px\"));\n            iframe.style.width = \"\".concat(options.width, \"px\");\n            iframe.style.maxWidth = \"100%\";\n        }\n        if (!options.seamless) {\n            iframe.style.boxShadow = iframeShadow;\n            iframe.style.borderRadius = \"0.5rem\";\n        }\n        observeVisibility(iframe, function () {\n            if (typeof iframe.dataset.src !== \"undefined\") {\n                iframe.src = iframe.dataset.src;\n                iframe.removeAttribute(\"data-src\");\n            }\n        });\n        if (exists === false) {\n            options.target.innerHTML = \"\";\n            options.target.appendChild(iframe);\n        }\n        return createReturn(iframe);\n    }\n    function createReturn(iframe, options) {\n        var instance = {\n            on: function (event, callback) {\n                var events = iframe._formcraftsEvents;\n                events[event] = events[event] || [];\n                events[event].push(callback);\n            },\n            values: function (values) {\n                var _a;\n                (_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage({\n                    type: \"values\",\n                    content: values,\n                }, \"*\");\n            },\n            destroy: function () {\n                iframe === null || iframe === void 0 ? void 0 : iframe.remove();\n            },\n        };\n        iframe._formcraftsInstance = instance;\n        iframe._formcraftsEvents = {};\n        return instance;\n    }\n    function createPopupReturn(drawer, config) {\n        var iframe = drawer.drawerElement.querySelector(\"iframe\");\n        var instance = {\n            on: function (event, callback) {\n                var events = iframe._formcraftsEvents;\n                events[event] = events[event] || [];\n                events[event].push(callback);\n            },\n            load: function () {\n                if (iframe) {\n                    var src = iframe.dataset.src;\n                    if (src) {\n                        iframe.src = iframe.dataset.src;\n                        iframe.removeAttribute(\"data-src\");\n                    }\n                }\n            },\n            values: function (values) {\n                var _a;\n                (_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage({\n                    type: \"values\",\n                    content: values,\n                }, \"*\");\n            },\n            open: function () {\n                if (iframe) {\n                    var src = iframe.dataset.src;\n                    if (src) {\n                        iframe.src = iframe.dataset.src;\n                        iframe.removeAttribute(\"data-src\");\n                    }\n                }\n                drawer.open();\n            },\n            close: function () {\n                drawer.close();\n            },\n            destroy: function () {\n                drawer.drawerElement.remove();\n            },\n        };\n        iframe._formcraftsInstance = instance;\n        iframe._formcraftsEvents = {};\n        return instance;\n    }\n    // Create popup\n    function createPopup(options) {\n        var modalConfig = {\n            openClass: \"fc-is-open\",\n            awaitOpenAnimation: true,\n            awaitCloseAnimation: true,\n        };\n        var width = typeof options.width === \"undefined\" ? 500 : options.width;\n        // Create modal elements\n        var modalId = \"fc-modal-\".concat(options.form);\n        // Check if modal exists\n        if (document.getElementById(modalId)) {\n            var existingModal = document.getElementById(modalId);\n            var existingDrawer = existingModal.drawerInstance;\n            return createPopupReturn(existingDrawer);\n        }\n        // Get / create style\n        if (!document.getElementById(\"fc-modal-css\")) {\n            var style = document.createElement(\"style\");\n            style.id = \"fc-modal-css\";\n            style.appendChild(document.createTextNode(css));\n            document.head.appendChild(style);\n        }\n        var modal = document.createElement(\"div\");\n        modal.id = modalId;\n        modal.classList.add(\"fc-modal\");\n        modal.ariaHidden = \"true\";\n        var modalContainer = document.createElement(\"div\");\n        modalContainer.style.maxWidth = \"min(90vw,\".concat(width, \"px)\");\n        modalContainer.style.visibility = \"hidden\";\n        modalContainer.role = \"dialog\";\n        modalContainer.setAttribute(\"aria-modal\", \"true\");\n        modalContainer.classList.add(\"fc-modal__container\");\n        // Create form iframe\n        var iframe = document.createElement(\"iframe\");\n        createEventListeners(iframe, options, \"popup\");\n        iframe.dataset.src = buildIframeSrcPopup(options);\n        iframe.title = \"Formcrafts popup form\";\n        iframe.style.border = \"none\";\n        iframe.style.width = \"100%\";\n        iframe.ariaLabel = \"Formcrafts popup form\";\n        iframe.name = \"formcrafts-popup-iframe\";\n        iframe.style.willChange = \"height\";\n        iframe.style.position = \"static\";\n        iframe.style.transition = \"height 0ms linear\";\n        iframe.style.willChange = \"height\";\n        iframe.scrolling = \"no\";\n        iframe.onload = function () {\n            modalContainer.style.visibility = \"visible\";\n        };\n        modal.appendChild(modalContainer);\n        modalContainer.appendChild(iframe);\n        if (options.appendTo) {\n            options.appendTo.appendChild(modal);\n        }\n        else {\n            document.body.appendChild(modal);\n        }\n        var myDrawer = new Drawer(modal, modalConfig);\n        return createPopupReturn(myDrawer);\n    }\n\n    exports.createInlineForm = createInlineForm;\n    exports.createPopup = createPopup;\n    exports.observeVisibility = observeVisibility;\n\n}));\n//# sourceMappingURL=embed.umd.js.map\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","type DrawerOptions = {\n  openClass?: string;\n  onClose?: () => void;\n  onOpen?: () => void;\n  awaitOpenAnimation?: boolean;\n  awaitCloseAnimation?: boolean;\n};\n\nclass Drawer {\n  constructor(\n    public drawerElement: HTMLElement,\n    private options: DrawerOptions,\n  ) {\n    (drawerElement as any).drawerInstance = this;\n    drawerElement.classList.add(\"fc-modal\");\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    this.drawerElement.querySelector(\".handle\")?.addEventListener(\n      \"touchstart\",\n      (e) => this.close(),\n    );\n    this.drawerElement.addEventListener(\"click\", (e: MouseEvent) => {\n      if (e.target === this.drawerElement) this.close();\n    });\n    document.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"Escape\") this.close();\n    });\n  }\n\n  public open(): void {\n    document.body.style.overflow = \"hidden\";\n    if (this.options.awaitOpenAnimation) {\n      this.drawerElement.addEventListener(\"animationend\", () => {\n        this.afterOpen();\n      }, { once: true });\n    }\n    this.drawerElement.setAttribute(\"aria-hidden\", \"false\");\n\n    this.drawerElement.classList.add(this.options.openClass || \"open\");\n\n    if (!this.options.awaitOpenAnimation) {\n      this.afterOpen();\n    }\n  }\n\n  private afterOpen(): void {\n    if (this.options.onOpen) this.options.onOpen();\n  }\n\n  public close(): void {\n    document.body.style.overflow = \"\";\n    this.drawerElement.setAttribute(\"aria-hidden\", \"true\");\n    if (this.options.awaitCloseAnimation) {\n      this.drawerElement.addEventListener(\"animationend\", () => {\n        this.afterClose();\n      }, { once: true });\n    }\n\n    if (!this.options.awaitCloseAnimation) {\n      this.afterClose();\n    }\n  }\n\n  private afterClose(): void {\n    this.drawerElement.classList.remove(this.options.openClass || \"open\");\n    if (this.options.onClose) this.options.onClose();\n  }\n}\n\nexport default Drawer;\n","import Drawer from \"./drawer.ts\";\nimport css from \"./embed.css\";\n\nfunction getCookie(name) {\n  if (typeof document === \"undefined\") return;\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) return parts.pop().split(\";\").shift();\n}\n\nconst debug = typeof window !== \"undefined\" && window.location &&\n  window.location.search.indexOf(\"debug=true\") !== -1;\n\nconst events: {\n  [key: string]: Function[];\n} = {\n  load: [] as Function[],\n};\n\ntype Events = {\n  [key: string]: Function[];\n};\n\ntype EmbedOptions = {\n  form: string;\n  target: HTMLElement;\n  redirectWithin?: boolean;\n  seamless?: boolean;\n  width?: number | null;\n  values?: Record<string, string | string[]>;\n  formBase?: string;\n  _params?: URLSearchParams;\n};\n\ntype EmbedPopupOptions = {\n  form: string;\n  width?: number | null;\n  redirectWithin?: boolean;\n  appendTo?: HTMLElement;\n  values?: Record<string, string | string[]>;\n  formBase?: string;\n  _params?: URLSearchParams;\n};\n\nconst authorizedDomain = [\n  \"https://app.formcrafts.com\",\n  \"https://5173.formcrafts.com\",\n  \"https://app.localhost:5173\",\n];\n\nconst iframeShadow =\n  \"rgba(0, 5, 10, 0.08) 0px 0px 0px 0.5px, rgba(50, 55, 60, 0.04) 2px 3px 2px 0px, rgba(50, 50, 50, 0.03) -2px -2px 2px 0px, rgba(80, 80, 80, 0.176) 0px 7px 5px -7px\";\n\n// iframeSrc util\nfunction buildIframeSrc(options: EmbedOptions) {\n  const base = options.formBase ?? \"https://app.formcrafts.com\";\n  const url = new URL(`${base}/${options.form}`);\n  url.searchParams.set(\"iframe\", \"true\");\n\n  if (typeof options.seamless !== \"undefined\" && options.seamless === true) {\n    url.searchParams.set(\"seamless\", \"true\");\n  }\n  if (typeof options._params !== \"undefined\") {\n    options._params.forEach((value, key) => {\n      url.searchParams.set(key, value);\n    });\n  }\n\n  return url.href;\n}\n\nfunction buildIframeSrcPopup(options: EmbedPopupOptions) {\n  const base = options.formBase ?? \"https://app.formcrafts.com\";\n  const url = new URL(`${base}/${options.form}`);\n  url.searchParams.set(\"iframe\", \"true\");\n  url.searchParams.set(\"popup\", \"true\");\n  if (typeof options._params !== \"undefined\") {\n    options._params.forEach((value, key) => {\n      url.searchParams.set(key, value);\n    });\n  }\n  return url.href;\n}\n\nexport function observeVisibility(\n  targets: Element | Element[],\n  callback: () => void,\n): void {\n  const handleIntersection: IntersectionObserverCallback = (\n    entries,\n    observer,\n  ) => {\n    for (const entry of entries) {\n      if (entry.isIntersecting) {\n        callback();\n        observer.disconnect();\n        return;\n      }\n    }\n  };\n\n  const observer = new IntersectionObserver(handleIntersection);\n\n  if (Array.isArray(targets)) {\n    targets.forEach((target) => observer.observe(target));\n  } else {\n    observer.observe(targets);\n  }\n}\n\nfunction adjustIframeHeight(\n  iframe: HTMLIFrameElement,\n  newHeight: string,\n  target: HTMLElement | null,\n) {\n  if (typeof newHeight === \"undefined\") return;\n  if (target) {\n    target.style.height = \"\";\n  }\n  iframe.style.height = `${newHeight}px`;\n  iframe.style.visibility = \"visible\";\n  iframe.style.position = \"static\";\n}\n\nfunction createEventListeners(\n  iframe: HTMLIFrameElement,\n  options: EmbedOptions | EmbedPopupOptions,\n  type: \"popup\" | \"embed\",\n) {\n  const seamless = (\"seamless\" in options && options?.seamless) ?? false;\n  window.addEventListener(\"message\", (event) => {\n    if (iframe.contentWindow !== event.source) return;\n    if (authorizedDomain.indexOf(event.origin) === -1) return false;\n    if (debug) {\n      console.debug(\"Received message\", event.data);\n    }\n    if (\n      event.data.type === \"ga_event\" &&\n      typeof (window as any).gtag !== \"undefined\"\n    ) {\n      const ga_event = event.data.content;\n      (window as any).gtag(\"event\", ga_event.type, ga_event.attributes);\n    }\n    if (\n      event.data.type === \"gtm_event\" &&\n      typeof (window as any).dataLayer !== \"undefined\"\n    ) {\n      const gtm_event = event.data.content;\n      (window as any).dataLayer.push({\n        event: gtm_event.type,\n        ...gtm_event.attributes,\n      });\n    }\n    if (event.data.type === \"load\") {\n      iframe.contentWindow.postMessage({\n        type: \"load:ok\",\n        content: \"ok\",\n      }, \"*\");\n      const hubspotUtk = getCookie(\"hubspotutk\");\n      // Send hubspotutk to iframe\n      if (iframe.contentWindow) {\n        if (hubspotUtk) {\n          iframe.contentWindow.postMessage({\n            type: \"hubspotutk\",\n            content: hubspotUtk,\n          }, \"*\");\n        }\n        // Send url to iframe\n        iframe.contentWindow.postMessage({\n          type: \"url\",\n          content: window.location.href,\n        }, \"*\");\n        // Send page title to iframe\n        iframe.contentWindow.postMessage({\n          type: \"title\",\n          content: document.title,\n        }, \"*\");\n        // Send window.innerHeight to iframe\n        iframe.contentWindow.postMessage({\n          type: \"windowInnerHeight\",\n          content: window.innerHeight,\n        }, \"*\");\n        let prefill = options.values ?? {};\n        iframe.contentWindow.postMessage({\n          type: \"values\",\n          content: prefill,\n        }, \"*\");\n        if (options.redirectWithin) {\n          iframe.contentWindow.postMessage({\n            type: \"redirectWithin\",\n            content: true,\n          }, \"*\");\n        }\n      }\n      const events = (iframe as any)._formcraftsEvents as any;\n      if (events.load) {\n        events.load.forEach((callback: any) => callback());\n      }\n    }\n    if (event.data.type === \"page\") {\n      const rect = iframe.getBoundingClientRect();\n      const isVisible = rect.top >= 0 && rect.top <= window.innerHeight;\n      if (!isVisible) {\n        if (type === \"embed\") {\n          window.scrollBy({\n            top: rect.top -\n              parseFloat(getComputedStyle(document.documentElement).fontSize) *\n                2,\n            behavior: \"smooth\",\n          });\n        } else {\n          iframe.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"start\",\n          });\n        }\n      }\n    }\n    if (event.data.type === \"height\") {\n      const target = \"target\" in options ? options.target : null;\n      adjustIframeHeight(iframe, event.data.content, target);\n    }\n    if (event.data.type === \"redirect\") {\n      window.location.href = event.data.content;\n    }\n    if (event.data.type === \"scrollIntoView\") {\n      const iframeRect = iframe.getBoundingClientRect();\n      const elementRect = event.data.content;\n      const pseudoElement = document.createElement(\"div\");\n      pseudoElement.style.position = \"absolute\";\n      pseudoElement.style.top = `${\n        iframeRect.top + elementRect.top + window.scrollY\n      }px`;\n      pseudoElement.style.left = `${\n        iframeRect.left + elementRect.left + window.scrollX\n      }px`;\n      pseudoElement.style.width = `${elementRect.width}px`;\n      pseudoElement.style.height = `${elementRect.height}px`;\n      document.body.appendChild(pseudoElement);\n      pseudoElement.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n        inline: \"nearest\",\n      });\n      pseudoElement.remove();\n    }\n    if (event.data.type === \"background\" && !seamless) {\n      iframe.style.background = event.data.content;\n    }\n    if (event.data.type === \"name\") {\n      iframe.ariaLabel = event.data.content;\n      iframe.title = event.data.content;\n    }\n    if (\n      event.data.type === \"submit:success\" ||\n      event.data.type === \"submitSuccess\"\n    ) {\n      const events = (iframe as any)._formcraftsEvents as any;\n      if (events[\"submit:success\"]) {\n        events[\"submit:success\"].forEach((callback: any) => callback());\n      }\n    }\n    if (event.data.type === \"success\" && type === \"embed\") {\n      const rect = iframe.getBoundingClientRect();\n      const isVisible = rect.top >= 0 && rect.top <= window.innerHeight;\n      if (!isVisible) {\n        window.scrollBy({\n          top: rect.top -\n            parseFloat(getComputedStyle(document.documentElement).fontSize) * 1,\n          behavior: \"smooth\",\n        });\n      }\n    }\n    if (event.data.type === \"close\" && type === \"popup\" && options) {\n      const modalId = `fc-modal-${options.form}`;\n      const existingModal = document.getElementById(modalId);\n      const existingDrawer = (existingModal as any).drawerInstance as Drawer;\n      existingDrawer.close();\n    }\n  });\n}\n\n/**\n * Creates an inline form using an iframe.\n *\n * @param {EmbedOptions} options - The options for the form.\n * @returns {ReturnType} The return type of the createReturn function.\n */\nexport function createInlineForm(options: EmbedOptions) {\n  // Check if widget is already created\n  let iframe;\n  let exists = false;\n  if (options.target.querySelector(\"iframe\")) {\n    exists = true;\n    iframe = options.target.querySelector(\"iframe\") as HTMLIFrameElement;\n  } else {\n    iframe = document.createElement(\"iframe\");\n    iframe.style.position = \"absolute\";\n    iframe.style.visibility = \"hidden\";\n  }\n\n  if (typeof options.seamless === \"undefined\") {\n    options.seamless = false;\n  }\n\n  createEventListeners(iframe, options, \"embed\");\n\n  const targetStyles = window.getComputedStyle(options.target);\n  options.target.style.display = \"flex\";\n  options.target.style.justifyContent = \"stretch\";\n  options.target.style.width = \"100%\";\n\n  iframe.dataset.src = buildIframeSrc(options);\n  iframe.title = \"Formcrafts form\";\n  iframe.style.border = \"none\";\n  iframe.style.width = targetStyles.getPropertyValue(\"width\");\n  iframe.scrolling = \"no\";\n  iframe.ariaLabel = \"Formcrafts form\";\n  iframe.name = \"formcrafts-iframe\";\n  iframe.classList.add(\"fc-inline-iframe\");\n  iframe.onload = () => {\n    options.target.style.overflow = \"initial\";\n    if (typeof options.width !== \"undefined\" && options.width !== null) {\n      iframe.style.width = `${options.width}px`;\n    } else {\n      iframe.style.width = \"100%\";\n    }\n    iframe.style.maxWidth = \"100%\";\n    iframe.style.transition = \"height 0ms linear\";\n    iframe.style.willChange = \"height\";\n  };\n  if (typeof options.width !== \"undefined\" && options.width !== null) {\n    iframe.style.width = `${options.width}px`;\n    iframe.style.maxWidth = \"100%\";\n  }\n  if (!options.seamless) {\n    iframe.style.boxShadow = iframeShadow;\n    iframe.style.borderRadius = \"0.5rem\";\n  }\n\n  observeVisibility(iframe, () => {\n    if (typeof iframe.dataset.src !== \"undefined\") {\n      iframe.src = iframe.dataset.src as string;\n      iframe.removeAttribute(\"data-src\");\n    }\n  });\n\n  if (exists === false) {\n    options.target.innerHTML = \"\";\n    options.target.appendChild(iframe);\n  }\n\n  return createReturn(iframe, options);\n}\n\nfunction createReturn(iframe: HTMLIFrameElement, options: EmbedOptions) {\n  const instance = {\n    on(event: string, callback: Function) {\n      const events = (iframe as any)._formcraftsEvents as any;\n      events[event] = events[event] || [];\n      events[event].push(callback);\n    },\n    values(values: Record<string, string | string[]>) {\n      iframe.contentWindow?.postMessage({\n        type: \"values\",\n        content: values,\n      }, \"*\");\n    },\n    destroy() {\n      iframe?.remove();\n    },\n  };\n  (iframe as any)._formcraftsInstance = instance;\n  (iframe as any)._formcraftsEvents = {};\n  return instance;\n}\n\nfunction createPopupReturn(drawer: Drawer, config: EmbedPopupOptions) {\n  const iframe = drawer.drawerElement.querySelector(\n    \"iframe\",\n  ) as HTMLIFrameElement;\n  const instance = {\n    on(event: string, callback: Function) {\n      const events = (iframe as any)._formcraftsEvents as any;\n      events[event] = events[event] || [];\n      events[event].push(callback);\n    },\n    load() {\n      if (iframe) {\n        const src = iframe.dataset.src as string;\n        if (src) {\n          iframe.src = iframe.dataset.src as string;\n          iframe.removeAttribute(\"data-src\");\n        }\n      }\n    },\n    values(values: Record<string, string | string[]>) {\n      iframe.contentWindow?.postMessage({\n        type: \"values\",\n        content: values,\n      }, \"*\");\n    },\n    open() {\n      if (iframe) {\n        const src = iframe.dataset.src as string;\n        if (src) {\n          iframe.src = iframe.dataset.src as string;\n          iframe.removeAttribute(\"data-src\");\n        }\n      }\n      drawer.open();\n    },\n    close() {\n      drawer.close();\n    },\n    destroy() {\n      drawer.drawerElement.remove();\n    },\n  };\n  (iframe as any)._formcraftsInstance = instance;\n  (iframe as any)._formcraftsEvents = {};\n  return instance;\n}\n\n// Create popup\nexport function createPopup(options: EmbedPopupOptions) {\n  const modalConfig = {\n    openClass: \"fc-is-open\",\n    awaitOpenAnimation: true,\n    awaitCloseAnimation: true,\n  };\n\n  const width = typeof options.width === \"undefined\" ? 500 : options.width;\n\n  // Create modal elements\n  const modalId = `fc-modal-${options.form}`;\n\n  // Check if modal exists\n  if (document.getElementById(modalId)) {\n    const existingModal = document.getElementById(modalId);\n    const existingDrawer = (existingModal as any).drawerInstance as Drawer;\n    return createPopupReturn(existingDrawer, options);\n  }\n\n  // Get / create style\n  if (!document.getElementById(\"fc-modal-css\")) {\n    const style = document.createElement(\"style\");\n    style.id = \"fc-modal-css\";\n    style.appendChild(document.createTextNode(css));\n    document.head.appendChild(style);\n  }\n\n  const modal = document.createElement(\"div\");\n  modal.id = modalId;\n  modal.classList.add(\"fc-modal\");\n  modal.ariaHidden = \"true\";\n\n  const modalContainer = document.createElement(\"div\");\n  modalContainer.style.maxWidth = `min(90vw,${width}px)`;\n  modalContainer.style.visibility = \"hidden\";\n  modalContainer.role = \"dialog\";\n  modalContainer.setAttribute(\"aria-modal\", \"true\");\n  modalContainer.classList.add(\"fc-modal__container\");\n\n  // Create form iframe\n  const iframe = document.createElement(\"iframe\");\n  createEventListeners(iframe, options, \"popup\");\n\n  iframe.dataset.src = buildIframeSrcPopup(options);\n  iframe.title = \"Formcrafts popup form\";\n  iframe.style.border = \"none\";\n  iframe.style.width = \"100%\";\n  iframe.ariaLabel = \"Formcrafts popup form\";\n  iframe.name = \"formcrafts-popup-iframe\";\n  iframe.style.willChange = \"height\";\n  iframe.style.position = \"static\";\n  iframe.style.transition = \"height 0ms linear\";\n  iframe.style.willChange = \"height\";\n  iframe.scrolling = \"no\";\n  iframe.onload = () => {\n    modalContainer.style.visibility = \"visible\";\n  };\n\n  modal.appendChild(modalContainer);\n  modalContainer.appendChild(iframe);\n\n  if (options.appendTo) {\n    options.appendTo.appendChild(modal);\n  } else {\n    document.body.appendChild(modal);\n  }\n  const myDrawer = new Drawer(modal, modalConfig);\n  return createPopupReturn(myDrawer, options);\n}\n"],"names":["$7609d24ec4cb9b7b$exports","factory","exports1","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","SuppressedError","Drawer","drawerElement","options","drawerInstance","classList","add","bindEvents","_a","_this","querySelector","addEventListener","e","close","target","document","key","open","body","style","overflow","awaitOpenAnimation","afterOpen","once","setAttribute","openClass","onOpen","awaitCloseAnimation","afterClose","remove","onClose","debug","window","location","search","indexOf","authorizedDomain","observeVisibility","targets","callback","observer","IntersectionObserver","entries","_i","entries_1","entry","isIntersecting","disconnect","Array","isArray","forEach","observe","createEventListeners","iframe","type","seamless","event","contentWindow","source","origin","console","data","gtag","ga_event","content","attributes","dataLayer","gtm_event","push","postMessage","hubspotUtk","getCookie","name","parts","value","concat","cookie","split","pop","shift","href","title","innerHeight","prefill","values","redirectWithin","events_1","_formcraftsEvents","load","rect","getBoundingClientRect","isVisible","top","scrollBy","parseFloat","getComputedStyle","documentElement","fontSize","behavior","scrollIntoView","block","newHeight","height","visibility","position","iframeRect","elementRect","pseudoElement","createElement","scrollY","left","scrollX","width","appendChild","inline","background","ariaLabel","events_2","modalId","form","existingDrawer","existingModal","getElementById","createPopupReturn","drawer","config","instance","on","events","dataset","src","removeAttribute","destroy","_formcraftsInstance","createInlineForm","base","url","exists","targetStyles","display","justifyContent","formBase","URL","searchParams","set","_params","border","getPropertyValue","scrolling","onload","log","maxWidth","transition","willChange","boxShadow","borderRadius","innerHTML","createPopup","id","createTextNode","head","modal","ariaHidden","modalContainer","role","appendTo","myInlineForm","MutationObserver","mutations","mutation","addedNodes","node","tagName","iframeUrl","params","getQueryParams","queryString","URLSearchParams","warn","error","err","childList","subtree","errors","alert"],"version":3,"file":"index.js.map"}